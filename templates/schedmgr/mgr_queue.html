{% extends "base/base.html" %}
{% block title %}
YiCloud
{% endblock %}

{% block content %}

<div  style="margin-top: 0px;margin-right: 5px;">
	<div class="col-md-4 panel panel-default" style="overflow-y:auto;">
		<div class="panel-heading">
	        <a class="button">添加队列</a>
	        <a class="button">删除队列</a>
	    </div>
	    <div class="panel-body">
	    	<table class="table table-hover">
				<tbody>
					{% for queue_name,value in queue_dict.items %}
						<tr>
							<th>
								<h4>队列名称:{{ queue_name }}
									<div style="font-size:12px;text-align:right;">运行作业数:{{ value.queue_run_job }}</div>
								</h4>
								<p style="font-size:12px;">默认队列:{{ value.is_default }}</p>
							</th>
						</tr>
					{% endfor %}
				</tbody>
			</table>	
		</div>	
	</div>	  
	<div class="col-md-8  panel panel-default" style="overflow-y:auto;">
		<div class="panel-heading">
	        <h3 class="panel-title">队列信息</h3>
	    </div>
	    <div class="panel-body">
			<form class="form-horizontal" role="form">
				<div class="form-group">
				    <label for="queue_name" class="col-sm-2 control-label">队列名称</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="queue_name" >
				    </div>
			  	</div>
			  	<div class="form-group">
				    <label for="user_max_job" class="col-sm-2 control-label">用户最大运行作业数</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="max_job" placeholder="用户最大运行作业数(留空无限制)">
				    </div>
			  	</div>
			 	<div class="form-group">
				    <label for="queue_max_job" class="col-sm-2 control-label">队列最大运行作业数</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="queue_max_job" placeholder="队列最大运行作业数(留空无限制)">
				    </div>
			  	</div>
			  	<div class="form-group">
				    <label for="max_run_time" class="col-sm-2 control-label">最长运行时间</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="max_run_time" placeholder="最长运行时间">
				    </div>
			  	</div>
			  	<div>权限信息</div>
			  	<div class="form-group">
				    <label for="queue_nice" class="col-sm-2 control-label">队列优先级</label>
				    <div class="col-sm-10">
				      <select class="form-control" id="queue_nice">  
							 <option>高</option>
							 <option>中</option>  
							 <option>低</option>     
					  </select> 
			    	</div>
			 	 </div>
			  	<div>控制信息</div>
			  	<div class="form-group">
				    <label for="allow_node" class="col-sm-2 control-label">可访问节点</label>
				    <div class="col-sm-10">
				      <select class="form-control" id="Queue_name">  
							 <option></option>   
					  </select> 
				    </div>
			  	</div>
			  	<div class="form-group">
				    <label for="default_queue" class="col-sm-2 control-label">默认队列</label>
				    <div class="col-sm-10">
				      <select class="form-control" id="default_queue">  
							 <option>是</option>
							 <option>否</option>  
					  </select>  
				    </div>
			  	</div>
			 	 <div class="form-group">
				    <label for="queue_status" class="col-sm-2 control-label">启用队列</label>
				    <div class="col-sm-10">
				      <select class="form-control" id="queue_status">  
							 <option>启用</option>
							 <option>禁用</option>  
					  </select>  
				    </div>
			  	</div>
			  	<div class="form-group">
				    <label for="control_user_access" class="col-sm-2 control-label">用户访问控制</label>
				    <div class="col-sm-10">
				      <select class="form-control" id="control_user_access">  
							 <option>启用</option>
							 <option>禁用</option>  
					  </select>  
				    </div>
			 	 </div>
			  	<div class="form-group">
				    <label for="allow_user_access" class="col-sm-2 control-label">可访问用户</label>
				    <div class="col-sm-10">
				      <select class="form-control" id="control_user_access">  
							 <option>启用</option>
					  </select>  
				    </div>
			  	</div>
			  	<div class="form-group">
				    <div class="col-sm-offset-2 col-sm-10">
				      <button type="submit" class="btn btn-default">提交</button>
				    </div>
				  </div>
			</form>
		</div>
	</div>
</div>


<!-- add checkbox -->
<script type="text/javascript">
	$(function(){  
	    function initTableCheckbox() {  
	        var $thr = $('table thead tr');  
	        var $checkAllTh = $('<th><input type="checkbox" id="checkAll" name="checkAll" />全选</th>');  
	        /*将全选/反选复选框添加到表头最前，即增加一列*/  
	        $thr.prepend($checkAllTh);  
	        /*“全选/反选”复选框*/  
	        var $checkAll = $thr.find('input');  
	        $checkAll.click(function(event){  
	            /*将所有行的选中状态设成全选框的选中状态*/  
	            $tbr.find('input').prop('checked',$(this).prop('checked'));  
	            /*并调整所有选中行的CSS样式*/  
	            if ($(this).prop('checked')) {  
	                $tbr.find('input').parent().parent().addClass('warning');  
	            } else{  
	                $tbr.find('input').parent().parent().removeClass('warning');  
	            }  
	            /*阻止向上冒泡，以防再次触发点击操作*/  
	            event.stopPropagation();  
	        });  
	        /*点击全选框所在单元格时也触发全选框的点击操作*/  
	        $checkAllTh.click(function(){  
	            $(this).find('input').click();  
	        });  
	        var $tbr = $('table tbody tr');  
	        var $checkItemTd = $('<td><input type="checkbox" name="checkItem" /></td>');  
	        /*每一行都在最前面插入一个选中复选框的单元格*/  
	        $tbr.prepend($checkItemTd);  
	        /*点击每一行的选中复选框时*/  
	        $tbr.find('input').click(function(event){  
	            /*调整选中行的CSS样式*/  
	            $(this).parent().parent().toggleClass('warning');  
	            /*如果已经被选中行的行数等于表格的数据行数，将全选框设为选中状态，否则设为未选中状态*/  
	            $checkAll.prop('checked',$tbr.find('input:checked').length == $tbr.length ? true : false);  
	            /*阻止向上冒泡，以防再次触发点击操作*/  
	            event.stopPropagation();  
	        });  
	        /*点击每一行时也触发该行的选中操作*/  
	        /*
	        $tbr.click(function(){  
	            $(this).find('input').click();  
	        });
	        */
	    }  
	    initTableCheckbox();  
	});  
</script>


{% endblock %}